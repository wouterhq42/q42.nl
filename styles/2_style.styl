@import "0_variables.styl"

body
  font 300 1rem bodyFont
  margin 0
  background-color #f0f3ed

  @media (min-width 480px)
    border solid 1rem qColor

  @media (max-width: 480px)
    &.show-mobile-menu
      overflow-x hidden
      #page
        transform translateX(150px)

p, ol, ul
  line-height 1.5em
  margin 1.5rem 0

p
  &:first-child
    margin-top 0
  &:last-child
    margin-bottom 0

iframe
  border none

address
  font-style normal

figure
  margin 1.5rem 0

blockquote
  margin 0
  padding 3rem 0
  border solid 1px #ccc
  border-left none
  border-right none

  &:before
    content: "â€œ"
    font-size 3rem
    font-family serifTitleFont
    float left

  p
    font-family serifTitleFont
    padding 0 2.5rem

cite
  font-style normal

a
  color #000
  text-decoration none
  font-weight 500
  border-bottom solid 1px rgba(0,0,0,.2)
  &:hover
    color qColor
    border-bottom-color qColor

#page
  transition transform .2s ease
  box-shadow -2px 0 20px rgba(0,0,0,.2)

  &.visible-backgrounds
    #backgrounds
      opacity 1
      background transparent

#not-found
  margin 40px auto
  text-align center
  background #d33
  color white
  border solid 20px white
  box-shadow 0 0 4px rgba(0,0,0,.4)
  padding 80px
  text-transform uppercase

  @media (max-width 480px)
    padding 32px
    a
      border none
      padding 0

  img
    width 100%
  p
    font-size 24px
  a
    border solid 1px white
    border-radius 25px
    padding 5px 15px
    color white
  h1
    font-size 72px
    margin 0

#loading
  text-align center
  padding 100px 0
  height 1000px

  img
    opacity 0
    width 128px
    animation fadeIn ease .2s
    animationDelay .2s
    animationFillMode forwards

.block-readmore
  text-align center
  a
    color black
    cursor pointer
    font-weight 500
    text-transform uppercase
    font-family monoFont
    padding 8px
    border solid 1px rgba(0,0,0,.8)
    border-radius 8px
    &:active, &:hover
      transform scale(0.9)

.container
  @media (max-width 940px)
    margin 0 auto
    width 620px
  @media (max-width 620px)
    width 460px
  @media (max-width 480px)
    width 90%
    min-width 300px

.block-text
  padding 40px 0
  margin 20px 0
  text-align center
  margin 0 auto
  @media (max-width: 480px)
    padding 0
  @media all and (max-width: 620px)
    padding 40px 0

  .inverted h1
    color white
  h1
    font italic 700 80px titleFont
    margin 0
    text-transform uppercase
    color titleColor
    b
      font-weight 800

    @media (max-width 480px)
      font-size 3rem
  h2
    font-size 3rem

.block-full
  display block
  position relative
  margin 0 auto
  padding 80px 0
  text-align center

  @media all and (min-width 480px)
    &:first-child
      padding-top 0

  @media all and (max-width: 620px)
    padding 20px 0
    display block

    &.right .body
      margin-left 0

  p
    font-size 1.3rem

  h1
    font-size 3rem
    font-weight 500
    text-align center
    margin 0
  h2
    font-size 1.5rem
    font-weight 300

    @media (max-width 480px)
      font-size 1.2rem

  a
    color qColor

  blockquote p
    font-size 2rem

  .tagline
    text-transform uppercase
    font-weight 700
    font-style italic
    color titleColor
    @media (min-width 480px)
      font-size 80px

.inverted .block-full
  color white

.inverted .tagline
  color white

.block-large
  displayFlex()

  &.block-no-padding-after
    padding-bottom 0

  & > .body
    doFlex 2

    h2
      margin-bottom 0
      & + h3
        margin-top 0

    h3
      font normal 14px/1.5 bodyFont
      color rgba(0,0,0,.5)
    p
      &:last-child
        margin-bottom 1.5rem

  .visual
    doFlex 3

  .intro
    doFlex 5
    padding 32px
    h2
      smallcaps()
      font-style italic
      margin-top 0
    h3
      font-weight normal
    .visual
      margin-bottom 15px

.block-large > .body h2
  margin-top 0

// http://stackoverflow.com/q/8720931/16308
.block-large > .block-small:first-child:nth-last-child(2),
.block-large > .block-small:first-child:nth-last-child(2) ~ div
  max-width 33.3333%

.block-small
  doFlex 1
  &.solid
    @media (min-width 620px)
      &:not(:last-child)
        border-right solid 1px rgba(0,0,0,.1)
  & > .body
    padding 32px
    h2
      font-weight 700
      font-style italic
      text-transform uppercase
      font-size 24px
      margin 0
  h2
    a
      color black
  h3
    font-weight 400

.inverted .container .block-small
  color white
  a
    color white
    border-color rgba(255,255,255,0.8)
    &:hover
      color qColor
      border-color qColor

.subcontent
  padding 32px
  doFlex 2
  opacity .5

  h2
    text-transform uppercase
    font-style italic
    font-weight 700
    &:first-child
      margin-top 0
  a
    opacity .8
    border-bottom none
    &:hover
      border-bottom solid 1px rgba(255,255,255,.7)
  ul
    margin 0
    padding 0 0 0 1rem

.visual
  display block
  border-bottom none
  position relative
  width 100%
  img, video, iframe
    width 100%
    vertical-align middle
  img, video
    height auto
  .hover
    position absolute
    top 0
    left 0
    opacity 0
    z-index 1
    transition opacity ease .2s
  &.swap-hover:hover .hover
    opacity 1

  &.caption
    overflow hidden

    @media (min-width 941px)
      p, img, video
        transition all .2s ease-out
      &:hover
        img, video
          transform scale(1.02)
        p
          transform translateY(-25px)

    p
      position absolute
      z-index 999
      margin 0
      width 100%
      padding 4px 8px
      color #FFF
      font-size .8rem
      font-weight 500
      background-color rgba(0,0,0,.8)
      fontSmoothing antialiased

.block-with-icons
  ul
    padding 0
    margin-bottom 0
  li
    displayFlex()
    alignItems center
    &:not(:last-child)
      padding 0 0 8px 0px
    i
      min-width 40px
    div
      margin-left 12px
  h2
    margin-top 0

.censored
  color black
  background black
  padding 0 4px
